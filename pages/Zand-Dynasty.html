<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Zand Dynasty</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <link rel="stylesheet" href="assets/css/main.css">
  <link rel="stylesheet" href="assets/css/overrides.css">
  <style>
    .dynasty-intro {
      max-width: 850px;
      margin: 0 auto 2rem;
      text-align: justify;
      background: rgba(255,255,255,0.05);
      padding: 2rem;
      border-radius: 12px;
      line-height: 1.7;
    }
    .slider-section {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      position: relative;
    }
    .slide-card {
      width: 320px;
      background: rgba(255,255,255,0.08);
      border-radius: 15px;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      opacity: 0;
      transform: translateX(60px);
      transition: all 0.6s ease;
      position: absolute;
    }
    .slide-card.active {
      opacity: 1;
      transform: translateX(0);
      position: relative;
    }
    .slide-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 8px;
    }
    .slide-card h4 { margin: .7rem 0 .4rem; font-size: 1.2rem; }
    .slide-card p { font-size: 0.95rem; opacity: 0.85; }
    .nft-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      padding: 10px 15px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }
    .nft-btn:hover { background: rgba(255,255,255,0.25); }
    #ruler-description {
      max-width: 800px;
      margin: 1.5rem auto;
      text-align: center;
      font-size: 1.05rem;
      background: rgba(255,255,255,0.05);
      padding: 1.2rem;
      border-radius: 10px;
      min-height: 100px;
      transition: all 0.4s ease;
    }
  </style>
</head>
<body>
  <div id="wrapper">
    <header id="header">
      <h1 class="major">Zand Dynasty</h1>
    </header>

    <main id="main">
      <section class="dynasty-intro">
        <p>
          The <strong>Zand dynasty (1751–1794 CE)</strong> was founded by <strong>Karim Khan Zand</strong> 
          after the fall of the Afsharids. Though brief, it was a period of stability, justice, and prosperity in Iran.  
          Karim Khan refused the title of Shah, instead calling himself <em>Vakil al-Ra‘aya</em> — 
          “Representative of the People.” From his capital in <strong>Shiraz</strong>, he rebuilt trade, 
          restored agriculture, and supported the arts, leaving behind architectural masterpieces such as 
          the <strong>Arg of Karim Khan</strong> and the <strong>Vakil Bazaar</strong>.  
          His reign is remembered as a time of peace and fairness, a contrast to the turmoil that followed 
          under his successors and rival claimants.
        </p>
      </section>

      <!-- Slider -->
      <div class="slider-section">
        <button id="prev" class="nft-btn"></button>

        <div id="slider">
          <div class="slide-card active" data-desc="Founder of the Zand dynasty; ruled with wisdom and humility, known for justice, rebuilding Shiraz, and bringing peace to Iran.">
            <img src="images/karimkhan.jpg" alt="Karim Khan Zand">
            <h4>Karim Khan Zand</h4>
            <p>Vakil al-Ra‘aya (Advocate of the People)</p>
          </div>

          <div class="slide-card" data-desc="Succeeded Karim Khan briefly; lacked his predecessor’s charisma and leadership, leading to instability.">
            <img src="images/abolfath.jpg" alt="Abol-Fath Khan">
            <h4>Abol-Fath Khan</h4>
            <p>Son of Karim Khan</p>
          </div>

          <div class="slide-card" data-desc="One of the last serious Zand contenders; fought valiantly but was defeated by Agha Mohammad Khan Qajar, ending the Zand era.">
            <img src="images/lotfalikhan.jpg" alt="Lotf Ali Khan">
            <h4>Lotf Ali Khan</h4>
            <p>Last Zand ruler</p>
          </div>
        </div>

        <button id="next" class="nft-btn"></button>
      </div>

      <div id="ruler-description">
        Founder of the Zand dynasty; ruled with wisdom and humility, known for justice, rebuilding Shiraz, and bringing peace to Iran.
      </div>
    </main>
  </div>

  <script>
    const slides = document.querySelectorAll(".slide-card");
    const descBox = document.getElementById("ruler-description");
    let current = 0;

    function showSlide(index) {
      slides.forEach((s) => s.classList.remove("active"));
      slides[index].classList.add("active");
      descBox.style.opacity = 0;
      setTimeout(() => {
        descBox.textContent = slides[index].dataset.desc;
        descBox.style.opacity = 1;
      }, 300);
    }

    document.getElementById("prev").addEventListener("click", () => {
      current = (current === 0) ? slides.length - 1 : current - 1;
      showSlide(current);
    });

    document.getElementById("next").addEventListener("click", () => {
      current = (current === slides.length - 1) ? 0 : current + 1;
      showSlide(current);
    });

    showSlide(current);
  </script>
</body>
</html>
