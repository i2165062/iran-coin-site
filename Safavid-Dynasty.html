<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Safavid Dynasty</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <link rel="stylesheet" href="assets/css/main.css">
  <link rel="stylesheet" href="assets/css/overrides.css">
  <style>
    .dynasty-intro {
      max-width: 850px;
      margin: 0 auto 2rem;
      text-align: justify;
      background: rgba(255,255,255,0.05);
      padding: 2rem;
      border-radius: 12px;
      line-height: 1.7;
    }
    .slider-section {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      position: relative;
    }
    .slide-card {
      width: 320px;
      background: rgba(255,255,255,0.08);
      border-radius: 15px;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      opacity: 0;
      transform: translateX(60px);
      transition: all 0.6s ease;
      position: absolute;
    }
    .slide-card.active {
      opacity: 1;
      transform: translateX(0);
      position: relative;
    }
    .slide-card img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 8px;
    }
    .slide-card h4 { margin: .7rem 0 .4rem; font-size: 1.2rem; }
    .slide-card p { font-size: 0.95rem; opacity: 0.85; }
    .nft-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      padding: 10px 15px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }
    .nft-btn:hover { background: rgba(255,255,255,0.25); }
    #ruler-description {
      max-width: 800px;
      margin: 1.5rem auto;
      text-align: center;
      font-size: 1.05rem;
      background: rgba(255,255,255,0.05);
      padding: 1.2rem;
      border-radius: 10px;
      min-height: 100px;
      transition: all 0.4s ease;
    }
  </style>
</head>
<body>
  <div id="wrapper">
    <header id="header">
      <h1 class="major">Safavid Dynasty</h1>
    </header>

    <main id="main">
      <section class="dynasty-intro">
        <p>
          The <strong>Safavid Empire (1501–1736 CE)</strong> was a defining period in Iranian history, 
          marking the establishment of modern Iran’s identity. Founded by <strong>Shah Ismail I</strong>, 
          the Safavids made <strong>Twelver Shi’ism</strong> the official state religion, 
          creating a unified Iranian nation distinct from its Sunni neighbors. 
          Their capital at <strong>Isfahan</strong> under <strong>Shah Abbas the Great</strong> became a global center 
          of art, architecture, and science. The Safavids maintained powerful trade links, 
          promoted Persian culture, and built iconic landmarks such as the <em>Shah Mosque</em> and <em>Naqsh-e Jahan Square</em>.  
          The dynasty’s decline came with internal struggles and Afghan invasions, 
          but its cultural and political legacy endures deeply in Iran’s identity.
        </p>
      </section>

      <!-- Slider -->
      <div class="slider-section">
        <button id="prev" class="nft-btn"></button>

        <div id="slider">
          <div class="slide-card active" data-desc="Founder of the Safavid dynasty; established Twelver Shi’ism as Iran’s state religion and unified the country under his rule.">
            <img src="images/ismail1.jpg" alt="Shah Ismail I">
            <h4>Shah Ismail I</h4>
            <p>Founder of the Safavid dynasty</p>
          </div>

          <div class="slide-card" data-desc="Reigned for 52 years, consolidated power, moved the capital to Isfahan, and built monumental works such as the Shah Mosque and Naqsh-e Jahan Square.">
            <img src="images/abbas1.jpg" alt="Shah Abbas I">
            <h4>Shah Abbas I (The Great)</h4>
            <p>Architect of Safavid glory</p>
          </div>

          <div class="slide-card" data-desc="Encouraged art and trade, maintained peace, and presided over a flourishing of Persian literature and craftsmanship.">
            <img src="images/abbas2.jpg" alt="Shah Abbas II">
            <h4>Shah Abbas II</h4>
            <p>Patron of culture and trade</p>
          </div>

          <div class="slide-card" data-desc="The last strong ruler before the dynasty’s decline; faced Ottoman and internal pressures leading to the fall of Safavid power.">
            <img src="images/sultan-husayn.jpg" alt="Sultan Husayn">
            <h4>Sultan Husayn</h4>
            <p>Final strong Safavid monarch</p>
          </div>
        </div>

        <button id="next" class="nft-btn"></button>
      </div>

      <div id="ruler-description">
        Founder of the Safavid dynasty; established Twelver Shi’ism as Iran’s state religion and unified the country under his rule.
      </div>
    </main>
  </div>

  <script>
    const slides = document.querySelectorAll(".slide-card");
    const descBox = document.getElementById("ruler-description");
    let current = 0;

    function showSlide(index) {
      slides.forEach((s, i) => s.classList.remove("active"));
      slides[index].classList.add("active");
      descBox.style.opacity = 0;
      setTimeout(() => {
        descBox.textContent = slides[index].dataset.desc;
        descBox.style.opacity = 1;
      }, 300);
    }

    document.getElementById("prev").addEventListener("click", () => {
      current = (current === 0) ? slides.length - 1 : current - 1;
      showSlide(current);
    });

    document.getElementById("next").addEventListener("click", () => {
      current = (current === slides.length - 1) ? 0 : current + 1;
      showSlide(current);
    });

    showSlide(current);
  </script>
</body>
</html>
